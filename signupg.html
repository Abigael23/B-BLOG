<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../bootstrap-5.2.3-dist/css/bootstrap.min.css">
</head>
<body>
   <main class="w-50 border p-4 rounded shadow mx-auto my-5">
    <form action="">
        <h1 class="text-primary text-center">Sign Up</h1>
        <div class="form-group">
            <label class="text-info text-sm" for="">Username</label>
            <input type="text" name="" id="username" class="form-control">
        </div>
        <div class="form-group">
            <label class="text-info text-sm" for="">Email</label>
            <input type="text" name="" id="email" class="form-control">
        </div>
        <div class="form-group">
            <label class="text-info text-sm" for="">Password</label>
            <input type="password" name="" id="password2" class="form-control">
        </div>
        <div class="text-center mt-3">
            <button onclick="signup(event)" class="btn btn-primary w-25">Sign Up</button>
        </div>
    </form>
   </main> 
</body>
</html>

<script>
    let username = document.getElementById("username")
    let email = document.getElementById("email")
    let password2 = document.getElementById("password2")
    let phonenumber = document.getElementById("phonenumber")
    let confirmpassword =document.getElementById("confirmpassword")
    let allUser = JSON.parse(localStorage.getItem("myUsers"));
    console.log(allUser);
    let array = []
    function signup(ev) {
        let user = {
            Username: username.value,
            Email: email.value,
            // Phonenumber: phonenumber.value,
            Password: password2.value,
            // Confirmpassword: confirmpassword.value
        }
        // localStorage.setItem("loggedUser", JSON.stringify(user))
        // window.location.href = "SignUp.html"
        // user.push();
        // console.log(user);

        // if (email.value) {
            
        // } else {
            
        // }
        ev.preventDefault();
        let found = allUser.find((el)=> el.email == email.value);
        console.log(found);
        if(found.username !=username || found.email != email.value || found.password !== password2.value ){
            alert("User information incorrect")
        }else{
            localStorage.setItem("CU", JSON.stringify(user))
            window.location.href = "login.html"
        }
    }

</script>